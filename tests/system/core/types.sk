namespace core { void testTypes() {

test("
class Foo {}
int a;
bool b;
float c;
double d;
string e;
void fn() f;
Foo g;
Foo h = Foo();
void fn() i = => {};
", "
");

test("
class Foo { int foo; }
var foo = Foo(0);
", "
");

test("
class Foo { int foo = 0; }
var foo = Foo();
", "
");

test("
export class Foo { Foo foo = Foo(); }
var foo = Foo();
", "
<stdin>:2:11: error: Global variables must be initialized to a pure expression (one without side effects)
var foo = Foo();
          ~~~~~
");

test("
class Foo { int foo = bar(); }
var foo = Foo();
inline int bar() { return 0; }
", "
<stdin>:2:11: error: Global variables must be initialized to a pure expression (one without side effects)
var foo = Foo();
          ~~~~~
");

test("
class Foo { new() {} }
var foo = Foo();
", "
<stdin>:2:11: error: Global variables must be initialized to a pure expression (one without side effects)
var foo = Foo();
          ~~~~~
");

test("
class Foo {}
class Bar : Foo {}
var foo = Bar();
", "
<stdin>:3:11: error: Global variables must be initialized to a pure expression (one without side effects)
var foo = Bar();
          ~~~~~
");

test("
void test() {
  (void)null;
}
", "
<stdin>:2:4: error: Cannot use type \"void\" here
  (void)null;
   ~~~~
");

test("
void test() {
  (ns)null;
}
namespace ns {}
", "
<stdin>:2:4: error: Cannot use type \"ns\" here
  (ns)null;
   ~~
");

test("
void foo;
", "
<stdin>:1:1: error: Cannot use type \"void\" here
void foo;
~~~~
");

test("
ns foo;
namespace ns {}
", "
<stdin>:1:1: error: Cannot use type \"ns\" here
ns foo;
~~
");

test("
void foo() {}
", "
");

test("
void fn() foo;
", "
");

test("
void fn(void, void) foo;
", "
<stdin>:1:9: error: Cannot use type \"void\" here
void fn(void, void) foo;
        ~~~~
<stdin>:1:15: error: Cannot use type \"void\" here
void fn(void, void) foo;
              ~~~~
");

test("
ns foo(ns bar, ns baz) {}
namespace ns {}
", "
<stdin>:1:1: error: Cannot use type \"ns\" here
ns foo(ns bar, ns baz) {}
~~
<stdin>:1:8: error: Cannot use type \"ns\" here
ns foo(ns bar, ns baz) {}
       ~~
<stdin>:1:16: error: Cannot use type \"ns\" here
ns foo(ns bar, ns baz) {}
               ~~
");

test("
struct Foo {}
Foo foo;
", "
<stdin>:2:5: error: Cannot create a default value for type \"Foo\"
Foo foo;
    ~~~
");

test("
class Foo<T> {
  void foo() {
    T foo;
  }
}
", "
<stdin>:3:7: error: Cannot create a default value for type \"T\"
    T foo;
      ~~~
");

test("
interface IFoo {}
class Foo<T is IFoo> {
  void foo() {
    T foo;
  }
}
", "
");

test("
struct Foo {}
bool foo(Foo a, Foo b) {
  return a == b;
}
", "
<stdin>:3:10: error: No binary operator == for type \"Foo\" and type \"Foo\"
  return a == b;
         ~~~~~~
");

test("
class Foo<T> {
  bool foo(T a, T b) {
    return a == b;
  }
}
", "
<stdin>:3:12: error: No binary operator == for type \"T\" and type \"T\"
    return a == b;
           ~~~~~~
");

test("
interface IFoo {}
class Foo<T is IFoo> {
  bool foo(T a, T b) {
    return a == b;
  }
}
", "
");

test("
bool foo<T>(T a, T b) {
  return a == b;
}
", "
<stdin>:2:10: error: No binary operator == for type \"T\" and type \"T\"
  return a == b;
         ~~~~~~
");

test("
interface IFoo {}
bool foo<T is IFoo>(T a, T b) {
  return a == b;
}
", "
");

}}
