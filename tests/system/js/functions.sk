testJS("
void foo() {}
var bar = foo;
", "
function foo() {
}
var bar = foo;
");

testJS("
class Foo {
  void foo() {}
}
Foo().foo();
", "
function Foo() {
}
Foo.prototype.foo = function() {
};
new Foo().foo();
");

testJS("
(void fn())(=>);
", "
(function() {
});
");

testJS("
((void fn())=>)();
", "
(function() {
})();
");

testJS("
void fn() foo = =>;
", "
var foo = function() {
};
");

testJS("
void foo(int foo) {}
foo((1, 2));
", "
function foo(foo) {
}
foo((1, 2));
");

testJS("
class Foo {
  void foo() {}
}
var foo = Foo().foo;
", "
function Foo() {
}
Foo.prototype.foo = function() {
};
var foo = function($temp) {
  return $temp.foo.bind($temp);
}(new Foo());
");

testJS("
class Foo {
  void foo() {}
  void fn() bar() { return foo; }
}
", "
function Foo() {
}
Foo.prototype.foo = function() {
};
Foo.prototype.bar = function() {
  return this.foo.bind(this);
};
");

testJS("
class Foo {
  static void foo() {}
}
var foo = Foo.foo;
", "
function Foo() {
}
Foo.foo = function() {
};
var foo = Foo.foo;
");

testJS("
enum Foo { A, B, C }
in Foo {
  int foo() {
    return this;
  }
}
Foo.A.foo();
", "
var Foo = {
  A: 0,
  B: 1,
  C: 2
};
Foo.foo = function($this) {
  return $this;
};
Foo.foo(Foo.A);
");
