namespace js { void minify() {

testMinify("
export int foo() {
  return untyped(0) in 1;
}
", "
function foo(){return 0 in 1;}
");

testMinify("
export int foo(int foo) {
  return foo + +1;
}
", "
function foo(foo){return foo+1|0;}
");

testMinify("
export int foo(int foo) {
  return foo - -1;
}
", "
function foo(foo){return foo- -1|0;}
");

testMinify("
export int foo(int foo) {
  if (foo < 0) return -1;
  else if (foo > 0) return 1;
  else return 1;
}
", "
function foo(foo){return foo<0?-1:foo>0?1:1;}
");

testMinify("
export int foo() {
  int foo;
  int bar;
  return foo + bar;
}
", "
function foo(){var foo=0,bar=0;return foo+bar|0;}
");

testMinify("
const bool bar = false;
export int foo(int y) {
  if (y < 0) {
    return -y;
  } else if (bar) {
    return 100;
  }
  return y;
}
", "
function foo(y){if(y<0)return -y;return y;}
");

testMinify("
export int foo(int y) {
  if (y > 0) y++;
  else if (y < 0) y += 2;
  else y--;
  return y;
}
", "
function foo(y){y=(y>0?y+1:y<0?y+2:y-1)|0;return y;}
");

}}
